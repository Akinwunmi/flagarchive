<button
  flag-button
  type="button"
  [attr.extra-small]="extraSmall() || undefined"
  [attr.secondary]="secondary() || undefined"
  [attr.small]="small() || undefined"
  [flagDropdownTrigger]="dropdown"
  [(isOpen)]="isOpen"
>
  @if (amountSelected() > 0) {
    <flag-badge>{{ amountSelected() }}</flag-badge>
  }
  @if (icon(); as icon) {
    <flag-icon>{{ icon }}</flag-icon>
  }
  {{ label() }}
  @if (!hideChevron()) {
    <flag-icon [class.rotated]="isOpen()">keyboard_arrow_down</flag-icon>
  }
</button>

<ng-template #dropdown>
  <flag-card>
    <flag-list>
      <ng-content />
    </flag-list>
  </flag-card>
</ng-template>
