<button
  flag-list-item
  [attr.highlighted]="expanded() || undefined"
  [attr.secondary]="secondary() || undefined"
  (click)="toggle()"
>
  @if (icon(); as icon) {
    <flag-icon>{{ icon }}</flag-icon>
  }
  <div class="label">
    {{ label() }}
    @if (count(); as count) {
      <flag-badge>{{ count }}</flag-badge>
    }
    @if (pillLabel(); as pillLabel) {
      <flag-pill>{{ pillLabel }}</flag-pill>
    }
  </div>
  <flag-icon class="collapse-arrow" [class.expanded]="expanded()">keyboard_arrow_down</flag-icon>
</button>
@if (expanded()) {
  <div @collapsibleState class="content" [class.secondary]="secondary()">
    <ng-content />
  </div>
}
