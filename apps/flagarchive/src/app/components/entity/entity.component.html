<a
  [class.card]="cardView()"
  [routerLink]="['../..', entity().id, entity().hasNoChildren ? 'details' : 'entities']"
>
  <figure>
    <flag-image
      [alt]="'Flag of' + entity().name"
      [hoistedRight]="entity().hoistedRight ?? false"
      [isReversed]="isReversed()"
      [src]="flagImageSrc() ?? ''"
    />
    <figcaption>
      {{ activeRange()?.name ?? entity().name }}
    </figcaption>
  </figure>
  <div class="info">
    @if (hasAltParentId()) {
      <a
        flag-pill
        class="alt-parent-id"
        type="button"
        [routerLink]="['../..', activeAltParentId()]"
        (click)="handleClickEvent($event)"
      >
        {{ activeAltParentId()?.toUpperCase() }}
      </a>
    }
    @if (activeRange()?.start) {
      <span class="range">{{ activeRange()?.start }} &ndash; {{ activeRange()?.end }}</span>
    }
    @if (entity().flags?.official?.reverseUrl) {
      <button
        flag-button
        extra-small
        rounded
        secondary
        type="button"
        [attr.raised]="isReversed() || undefined"
        (click)="toggleReversed($event)"
      >
        <flag-icon>swap_horiz</flag-icon>
      </button>
    }
  </div>
</a>
